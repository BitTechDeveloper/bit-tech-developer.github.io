!function(){"use strict";var t,n={839:function(){function t(t){return document.querySelector(t)}function n(t){return document.querySelectorAll(t)}function e(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}document.addEventListener("DOMContentLoaded",(function(){t("body");var r=e(n(".thumbnail-img")),c=n(".large-img"),o=t(".lightbox-overlay"),i=(o.querySelector(".next"),o.querySelector(".prev"),t(".lightbox-close-img")),a=t(".cart-wrapper"),s=t(".cart-dropdown"),d=t(".dropdown-content"),l=t(".dropdown-content-empty"),u=t(".item-dropdown-display"),f=t(".total-price-dropdown-display"),v=t(".dropdown-delete"),h=t(".checkout"),p=t(".plus"),m=t(".minus"),L=t(".item-amount-display"),g=t(".cart-badge"),y=e(r.map((function(t){return t.src.replace("-thumbnail","")}))),E=n(".next"),b=n(".prev"),x=t(".hamburger-wrapper"),k=t(".menu"),C=t(".main-nav");x.addEventListener("click",(function(){C.classList.toggle("active"),k.classList.toggle("active"),x.classList.toggle("active")})),a.addEventListener("click",(function(t){s.contains(t.target)||a.classList.toggle("active")})),document.addEventListener("click",(function(t){a.contains(t.target)||s.contains(t.target)||a.classList.remove("active")}));var w=0,O=0,S=125*O;0===O&&(d.classList.add("hidden"),h.classList.add("hidden"),l.classList.remove("hidden")),L.textContent=O,g.textContent=O,c.forEach((function(t){t.src=y[w]})),c.forEach((function(t){t.addEventListener("click",(function(){o.classList.add("active")}))})),i.addEventListener("click",(function(){o.classList.remove("active")})),r.forEach((function(t,n){t.addEventListener("click",(function(){r.forEach((function(t){return t.classList.remove("active")})),t.classList.add("active");var e=t.src.replace("-thumbnail","");console.log(e),c.forEach((function(t){t.src=e})),w=n}))})),E.forEach((function(t){t.addEventListener("click",(function(){w<y.length-1&&w++,c.forEach((function(t){t.src=y[w]})),r.forEach((function(t){c.forEach((function(n){n.src===t.src.replace("-thumbnail","")?t.classList.add("active"):t.classList.remove("active")}))}))}))})),b.forEach((function(t){t.addEventListener("click",(function(){w>0&&w--,c.forEach((function(t){t.src=y[w]})),r.forEach((function(t){c.forEach((function(n){n.src===t.src.replace("-thumbnail","")?t.classList.add("active"):t.classList.remove("active")}))}))}))})),p.addEventListener("click",(function(){O++,S=125*O,L.textContent=O,g.textContent=O,u.textContent=O,f.textContent="$".concat(S),1===O&&(d.classList.remove("hidden"),h.classList.remove("hidden"),l.classList.add("hidden"))})),m.addEventListener("click",(function(){O>0&&(O--,S=125*O,L.textContent=O,g.textContent=O,u.textContent=O,f.textContent="$".concat(S)),0===O&&(d.classList.add("hidden"),h.classList.add("hidden"),l.classList.remove("hidden"))})),v.addEventListener("click",(function(){O=0,S=0,L.textContent=O,g.textContent=O,d.classList.add("hidden"),h.classList.add("hidden"),l.classList.remove("hidden")}))}))}},e={};function r(t){var c=e[t];if(void 0!==c)return c.exports;var o=e[t]={exports:{}};return n[t](o,o.exports,r),o.exports}r.m=n,t=[],r.O=function(n,e,c,o){if(!e){var i=1/0;for(l=0;l<t.length;l++){e=t[l][0],c=t[l][1],o=t[l][2];for(var a=!0,s=0;s<e.length;s++)(!1&o||i>=o)&&Object.keys(r.O).every((function(t){return r.O[t](e[s])}))?e.splice(s--,1):(a=!1,o<i&&(i=o));if(a){t.splice(l--,1);var d=c();void 0!==d&&(n=d)}}return n}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[e,c,o]},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},function(){var t={793:0,79:0};r.O.j=function(n){return 0===t[n]};var n=function(n,e){var c,o,i=e[0],a=e[1],s=e[2],d=0;if(i.some((function(n){return 0!==t[n]}))){for(c in a)r.o(a,c)&&(r.m[c]=a[c]);if(s)var l=s(r)}for(n&&n(e);d<i.length;d++)o=i[d],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(l)},e=self.webpackChunksample_projects=self.webpackChunksample_projects||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}();var c=r.O(void 0,[79],(function(){return r(839)}));c=r.O(c)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RG5CLEVBQUlMLEVBQVNkLE9BQVFtQixJQUN6QmdCLEVBQVVyQixFQUFTSyxHQUNoQmYsRUFBb0J3QixFQUFFTSxFQUFpQkMsSUFBWUQsRUFBZ0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0JDLEdBQVcsRUFFNUIsT0FBTy9CLEVBQW9CUSxFQUFFQyxFQUM5QixFQUVJOEIsRUFBcUJDLEtBQWtDLDRCQUFJQSxLQUFrQyw2QkFBSyxHQUN0R0QsRUFBbUJuRCxRQUFRNEMsRUFBcUJTLEtBQUssS0FBTSxJQUMzREYsRUFBbUJHLEtBQU9WLEVBQXFCUyxLQUFLLEtBQU1GLEVBQW1CRyxLQUFLRCxLQUFLRixHLElDaER2RixJQUFJSSxFQUFzQjNDLEVBQW9CUSxPQUFFTCxFQUFXLENBQUMsS0FBSyxXQUFhLE9BQU9ILEVBQW9CLElBQU0sSUFDL0cyQyxFQUFzQjNDLEVBQW9CUSxFQUFFbUMsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NhbXBsZS1wcm9qZWN0cy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL3NhbXBsZS1wcm9qZWN0cy8uL3NyYy9zY3JpcHRzL2xpYmpzL2Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly9zYW1wbGUtcHJvamVjdHMvLi9zcmMvc2NyaXB0cy9mZW0vZmVtLWludC1lY29tbWVyY2UuanMiLCJ3ZWJwYWNrOi8vc2FtcGxlLXByb2plY3RzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NhbXBsZS1wcm9qZWN0cy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3NhbXBsZS1wcm9qZWN0cy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9zYW1wbGUtcHJvamVjdHMvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gZnVuY3Rpb24ocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBjaHVua0lkcyA9IGRlZmVycmVkW2ldWzBdO1xuXHRcdHZhciBmbiA9IGRlZmVycmVkW2ldWzFdO1xuXHRcdHZhciBwcmlvcml0eSA9IGRlZmVycmVkW2ldWzJdO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeShmdW5jdGlvbihrZXkpIHsgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKTsgfSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJleHBvcnQgZnVuY3Rpb24gc2VsZWN0KGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7XHJcbiAgICByZXR1cm4gc2VsZWN0ZWRFbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0QWxsKGVsZW1lbnRzKSB7XHJcbiAgICBjb25zdCBzZWxlY3RlZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cyk7XHJcbiAgICByZXR1cm4gc2VsZWN0ZWRFbGVtZW50cztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShlbGVtZW50LCB0ZXh0ID0gbnVsbCkge1xyXG4gICAgY29uc3QgY3JlYXRlZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnQpO1xyXG4gICAgaWYgKHRleHQpIHtcclxuICAgICAgICBjcmVhdGVkRWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlZEVsZW1lbnQ7XHJcbn1cclxuIiwiaW1wb3J0IFwiLi4vLi4vc3R5bGVzL21haW4uY3NzXCI7XHJcbmltcG9ydCAqIGFzIGYgZnJvbSBcIi4uL2xpYmpzL2Z1bmN0aW9uc1wiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgYm9keSA9IGYuc2VsZWN0KFwiYm9keVwiKTtcclxuXHJcbiAgICBjb25zdCB0aHVtYm5haWxzID0gWy4uLmYuc2VsZWN0QWxsKFwiLnRodW1ibmFpbC1pbWdcIildO1xyXG4gICAgY29uc3QgbGFyZ2VJbWFnZXMgPSBmLnNlbGVjdEFsbChcIi5sYXJnZS1pbWdcIik7XHJcblxyXG4gICAgY29uc3QgbGlnaHRib3hPdmVybGF5ID0gZi5zZWxlY3QoXCIubGlnaHRib3gtb3ZlcmxheVwiKTtcclxuICAgIGNvbnN0IGxpZ2h0Ym94TmV4dEljb24gPSBsaWdodGJveE92ZXJsYXkucXVlcnlTZWxlY3RvcihcIi5uZXh0XCIpO1xyXG4gICAgY29uc3QgbGlnaHRib3hwcmV2SWNvbiA9IGxpZ2h0Ym94T3ZlcmxheS5xdWVyeVNlbGVjdG9yKFwiLnByZXZcIik7XHJcbiAgICBjb25zdCBsaWdodGJveENsb3NlSWNvbiA9IGYuc2VsZWN0KFwiLmxpZ2h0Ym94LWNsb3NlLWltZ1wiKTtcclxuXHJcbiAgICBjb25zdCBjYXJ0V3JhcHBlciA9IGYuc2VsZWN0KFwiLmNhcnQtd3JhcHBlclwiKTtcclxuICAgIGNvbnN0IGNhcnREcm9wZG93biA9IGYuc2VsZWN0KFwiLmNhcnQtZHJvcGRvd25cIik7XHJcbiAgICBjb25zdCBkcm9wZG93bkNvbnRlbnQgPSBmLnNlbGVjdChcIi5kcm9wZG93bi1jb250ZW50XCIpO1xyXG4gICAgY29uc3QgZHJvcGRvd25Db250ZW50RW1wdHkgPSBmLnNlbGVjdChcIi5kcm9wZG93bi1jb250ZW50LWVtcHR5XCIpO1xyXG4gICAgY29uc3QgaXRlbURyb3Bkb3duRGlzcGxheSA9IGYuc2VsZWN0KFwiLml0ZW0tZHJvcGRvd24tZGlzcGxheVwiKTtcclxuICAgIGNvbnN0IHRvdGFsUHJpY2VEcm9wZG93bkRpc3BsYXkgPSBmLnNlbGVjdChcIi50b3RhbC1wcmljZS1kcm9wZG93bi1kaXNwbGF5XCIpO1xyXG4gICAgY29uc3QgZHJvcGRvd25EZWxldGUgPSBmLnNlbGVjdChcIi5kcm9wZG93bi1kZWxldGVcIik7XHJcbiAgICBjb25zdCBjaGVja291dCA9IGYuc2VsZWN0KFwiLmNoZWNrb3V0XCIpO1xyXG5cclxuICAgIGNvbnN0IHBsdXNCdG4gPSBmLnNlbGVjdChcIi5wbHVzXCIpO1xyXG4gICAgY29uc3QgbWludXNCdG4gPSBmLnNlbGVjdChcIi5taW51c1wiKTtcclxuICAgIGNvbnN0IGl0ZW1BbW91bnREaXNwbGF5ID0gZi5zZWxlY3QoXCIuaXRlbS1hbW91bnQtZGlzcGxheVwiKTtcclxuICAgIGNvbnN0IGNhcnRCYWRnZSA9IGYuc2VsZWN0KFwiLmNhcnQtYmFkZ2VcIik7XHJcblxyXG4gICAgY29uc3QgbGFyZ2VJbWFnZVNyY3MgPSBbXHJcbiAgICAgICAgLi4udGh1bWJuYWlscy5tYXAoKHQpID0+IHQuc3JjLnJlcGxhY2UoXCItdGh1bWJuYWlsXCIsIFwiXCIpKSxcclxuICAgIF07XHJcblxyXG4gICAgY29uc3QgbmV4dHMgPSBmLnNlbGVjdEFsbChcIi5uZXh0XCIpO1xyXG4gICAgY29uc3QgcHJldnMgPSBmLnNlbGVjdEFsbChcIi5wcmV2XCIpO1xyXG5cclxuICAgIC8vIGhhbWJ1cmdlciB2YXJpYWJsZXNcclxuICAgIGNvbnN0IGhhbWJ1cmdlcldyYXBwZXIgPSBmLnNlbGVjdChcIi5oYW1idXJnZXItd3JhcHBlclwiKTtcclxuICAgIGNvbnN0IG1lbnUgPSBmLnNlbGVjdChcIi5tZW51XCIpO1xyXG4gICAgY29uc3QgbWFpbk5hdiA9IGYuc2VsZWN0KFwiLm1haW4tbmF2XCIpO1xyXG5cclxuICAgIC8vIGhhbWJ1cmdlciBmdW5jdGlvblxyXG4gICAgaGFtYnVyZ2VyV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1haW5OYXYuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBtZW51LmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgaGFtYnVyZ2VyV3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZHJvcGRvd24gZnVuY2lvblxyXG4gICAgY2FydFdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGNhcnREcm9wZG93bi5jb250YWlucyhlLnRhcmdldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXJ0V3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhY2FydFdyYXBwZXIuY29udGFpbnMoZS50YXJnZXQpICYmXHJcbiAgICAgICAgICAgICFjYXJ0RHJvcGRvd24uY29udGFpbnMoZS50YXJnZXQpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNhcnRXcmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gaW5pdGlhbCBpbmRleGZvciBsYXJnZSBpbWFnZVxyXG4gICAgbGV0IGxhcmdlSW1hZ2VTcmNzSW5kZXggPSAwO1xyXG4gICAgbGV0IHRvdGFsQW1vdW50ID0gMDtcclxuICAgIGxldCB0b3RhbFByaWNlID0gdG90YWxBbW91bnQgKiAxMjU7XHJcblxyXG4gICAgaWYgKHRvdGFsQW1vdW50ID09PSAwKSB7XHJcbiAgICAgICAgZHJvcGRvd25Db250ZW50LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgY2hlY2tvdXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgICAgICBkcm9wZG93bkNvbnRlbnRFbXB0eS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGl0ZW1BbW91bnREaXNwbGF5LnRleHRDb250ZW50ID0gdG90YWxBbW91bnQ7XHJcbiAgICBjYXJ0QmFkZ2UudGV4dENvbnRlbnQgPSB0b3RhbEFtb3VudDtcclxuXHJcbiAgICAvLyBpbml0aWFsIGRpc3BsYXkgZm9yIGxhcmdlIGltYWdlc1xyXG5cclxuICAgIGxhcmdlSW1hZ2VzLmZvckVhY2goKGxhcmdlSW1hZ2UpID0+IHtcclxuICAgICAgICBsYXJnZUltYWdlLnNyYyA9IGxhcmdlSW1hZ2VTcmNzW2xhcmdlSW1hZ2VTcmNzSW5kZXhdO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZGlzcGxheSBsaWdoYm94XHJcbiAgICBsYXJnZUltYWdlcy5mb3JFYWNoKChsYXJnZUltYWdlKSA9PiB7XHJcbiAgICAgICAgbGFyZ2VJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBsaWdodGJveE92ZXJsYXkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGNsb3NlIGxpZ2h0Ym94XHJcbiAgICBsaWdodGJveENsb3NlSWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGxpZ2h0Ym94T3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gY2xpY2sgZXZlbnQgZm9yIHRodW1ibmFpbCB0byBjb250cm9sbCBsYXJnZSBpbWFnZVxyXG4gICAgdGh1bWJuYWlscy5mb3JFYWNoKCh0aHVtYm5haWwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgdGh1bWJuYWlsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRodW1ibmFpbHMuZm9yRWFjaCgodCkgPT4gdC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcclxuICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBsYXJnZUltYWdlU3JjID0gdGh1bWJuYWlsLnNyYy5yZXBsYWNlKFwiLXRodW1ibmFpbFwiLCBcIlwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobGFyZ2VJbWFnZVNyYyk7XHJcblxyXG4gICAgICAgICAgICBsYXJnZUltYWdlcy5mb3JFYWNoKChsYXJnZUltYWdlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsYXJnZUltYWdlLnNyYyA9IGxhcmdlSW1hZ2VTcmM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbGFyZ2VJbWFnZVNyY3NJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gbGFyZ2UgaW1hZ2UgbmF2aWdhdGlvbiBmb3IgbmV4dFxyXG4gICAgbmV4dHMuZm9yRWFjaCgobmV4dCkgPT4ge1xyXG4gICAgICAgIG5leHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGxhcmdlSW1hZ2VTcmNzSW5kZXggPCBsYXJnZUltYWdlU3Jjcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBsYXJnZUltYWdlU3Jjc0luZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFyZ2VJbWFnZXMuZm9yRWFjaCgobGFyZ2VJbWFnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGFyZ2VJbWFnZS5zcmMgPSBsYXJnZUltYWdlU3Jjc1tsYXJnZUltYWdlU3Jjc0luZGV4XTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aHVtYm5haWxzLmZvckVhY2goKHRodW1ibmFpbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGFyZ2VJbWFnZXMuZm9yRWFjaCgobGFyZ2VJbWFnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFyZ2VJbWFnZS5zcmMgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbC5zcmMucmVwbGFjZShcIi10aHVtYm5haWxcIiwgXCJcIilcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICAvLyBsYXJnZSBpbWFnZSBuYXZpZ2F0aW9uIGZvciBwcmV2aW91c1xyXG4gICAgcHJldnMuZm9yRWFjaCgocHJldikgPT4ge1xyXG4gICAgICAgIHByZXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGxhcmdlSW1hZ2VTcmNzSW5kZXggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsYXJnZUltYWdlU3Jjc0luZGV4LS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFyZ2VJbWFnZXMuZm9yRWFjaCgobGFyZ2VJbWFnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGFyZ2VJbWFnZS5zcmMgPSBsYXJnZUltYWdlU3Jjc1tsYXJnZUltYWdlU3Jjc0luZGV4XTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aHVtYm5haWxzLmZvckVhY2goKHRodW1ibmFpbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGFyZ2VJbWFnZXMuZm9yRWFjaCgobGFyZ2VJbWFnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFyZ2VJbWFnZS5zcmMgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbC5zcmMucmVwbGFjZShcIi10aHVtYm5haWxcIiwgXCJcIilcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSXRlbSBhbW91bnQgaW5jcmVhbWVudFxyXG4gICAgcGx1c0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRvdGFsQW1vdW50Kys7XHJcbiAgICAgICAgdG90YWxQcmljZSA9IHRvdGFsQW1vdW50ICogMTI1O1xyXG4gICAgICAgIGl0ZW1BbW91bnREaXNwbGF5LnRleHRDb250ZW50ID0gdG90YWxBbW91bnQ7XHJcbiAgICAgICAgY2FydEJhZGdlLnRleHRDb250ZW50ID0gdG90YWxBbW91bnQ7XHJcbiAgICAgICAgaXRlbURyb3Bkb3duRGlzcGxheS50ZXh0Q29udGVudCA9IHRvdGFsQW1vdW50O1xyXG4gICAgICAgIHRvdGFsUHJpY2VEcm9wZG93bkRpc3BsYXkudGV4dENvbnRlbnQgPSBgJCR7dG90YWxQcmljZX1gO1xyXG5cclxuICAgICAgICBpZiAodG90YWxBbW91bnQgPT09IDEpIHtcclxuICAgICAgICAgICAgZHJvcGRvd25Db250ZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgIGNoZWNrb3V0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duQ29udGVudEVtcHR5LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBJdGVtIGFtb3VudCBkZWNyZWFtZW50XHJcbiAgICBtaW51c0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGlmICh0b3RhbEFtb3VudCA+IDApIHtcclxuICAgICAgICAgICAgdG90YWxBbW91bnQtLTtcclxuICAgICAgICAgICAgdG90YWxQcmljZSA9IHRvdGFsQW1vdW50ICogMTI1O1xyXG4gICAgICAgICAgICBpdGVtQW1vdW50RGlzcGxheS50ZXh0Q29udGVudCA9IHRvdGFsQW1vdW50O1xyXG4gICAgICAgICAgICBjYXJ0QmFkZ2UudGV4dENvbnRlbnQgPSB0b3RhbEFtb3VudDtcclxuICAgICAgICAgICAgaXRlbURyb3Bkb3duRGlzcGxheS50ZXh0Q29udGVudCA9IHRvdGFsQW1vdW50O1xyXG4gICAgICAgICAgICB0b3RhbFByaWNlRHJvcGRvd25EaXNwbGF5LnRleHRDb250ZW50ID0gYCQke3RvdGFsUHJpY2V9YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0b3RhbEFtb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICBkcm9wZG93bkNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgY2hlY2tvdXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgZHJvcGRvd25Db250ZW50RW1wdHkuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIGRyb3Bkb3duIGRlbGV0ZVxyXG4gICAgZHJvcGRvd25EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0b3RhbEFtb3VudCA9IDA7XHJcbiAgICAgICAgdG90YWxQcmljZSA9IDA7XHJcbiAgICAgICAgaXRlbUFtb3VudERpc3BsYXkudGV4dENvbnRlbnQgPSB0b3RhbEFtb3VudDtcclxuICAgICAgICBjYXJ0QmFkZ2UudGV4dENvbnRlbnQgPSB0b3RhbEFtb3VudDtcclxuICAgICAgICBkcm9wZG93bkNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgICAgICBjaGVja291dC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgIGRyb3Bkb3duQ29udGVudEVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICB9KTtcclxufSk7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ3OTM6IDAsXG5cdDc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IGZ1bmN0aW9uKGNodW5rSWQpIHsgcmV0dXJuIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMDsgfTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSBmdW5jdGlvbihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkge1xuXHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuXHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuXHR2YXIgcnVudGltZSA9IGRhdGFbMl07XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZShmdW5jdGlvbihpZCkgeyByZXR1cm4gaW5zdGFsbGVkQ2h1bmtzW2lkXSAhPT0gMDsgfSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0fVxuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHJlc3VsdCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rc2FtcGxlX3Byb2plY3RzXCJdID0gc2VsZltcIndlYnBhY2tDaHVua3NhbXBsZV9wcm9qZWN0c1wiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzc5XSwgZnVuY3Rpb24oKSB7IHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzOSk7IH0pXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sIm5hbWVzIjpbImRlZmVycmVkIiwic2VsZWN0IiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNlbGVjdEFsbCIsImVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmIiwidGh1bWJuYWlscyIsIl90b0NvbnN1bWFibGVBcnJheSIsImxhcmdlSW1hZ2VzIiwibGlnaHRib3hPdmVybGF5IiwibGlnaHRib3hDbG9zZUljb24iLCJjYXJ0V3JhcHBlciIsImNhcnREcm9wZG93biIsImRyb3Bkb3duQ29udGVudCIsImRyb3Bkb3duQ29udGVudEVtcHR5IiwiaXRlbURyb3Bkb3duRGlzcGxheSIsInRvdGFsUHJpY2VEcm9wZG93bkRpc3BsYXkiLCJkcm9wZG93bkRlbGV0ZSIsImNoZWNrb3V0IiwicGx1c0J0biIsIm1pbnVzQnRuIiwiaXRlbUFtb3VudERpc3BsYXkiLCJjYXJ0QmFkZ2UiLCJsYXJnZUltYWdlU3JjcyIsIm1hcCIsInQiLCJzcmMiLCJyZXBsYWNlIiwibmV4dHMiLCJwcmV2cyIsImhhbWJ1cmdlcldyYXBwZXIiLCJtZW51IiwibWFpbk5hdiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImUiLCJjb250YWlucyIsInRhcmdldCIsInJlbW92ZSIsImxhcmdlSW1hZ2VTcmNzSW5kZXgiLCJ0b3RhbEFtb3VudCIsInRvdGFsUHJpY2UiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImZvckVhY2giLCJsYXJnZUltYWdlIiwidGh1bWJuYWlsIiwiaW5kZXgiLCJsYXJnZUltYWdlU3JjIiwiY29uc29sZSIsImxvZyIsIm5leHQiLCJsZW5ndGgiLCJwcmV2IiwiY29uY2F0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwiTyIsInJlc3VsdCIsImNodW5rSWRzIiwiZm4iLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiaSIsImZ1bGZpbGxlZCIsImoiLCJPYmplY3QiLCJrZXlzIiwiZXZlcnkiLCJrZXkiLCJzcGxpY2UiLCJyIiwibyIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJjaHVua0lkIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsImRhdGEiLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiaWQiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJzZWxmIiwiYmluZCIsInB1c2giLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==