!function(){"use strict";var t,e={839:function(){function t(t){return document.querySelector(t)}function e(t){return document.querySelectorAll(t)}function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}document.addEventListener("DOMContentLoaded",(function(){t("body");var r=n(e(".thumbnail-img")),o=e(".large-img"),c=t(".lightbox-overlay"),i=(c.querySelector(".next"),c.querySelector(".prev"),t(".lightbox-close-img")),a=t(".cart-wrapper"),s=t(".cart-dropdown"),l=t(".dropdown-content"),d=t(".dropdown-content-empty"),u=t(".item-dropdown-display"),f=t(".total-price-dropdown-display"),v=t(".dropdown-delete"),m=t(".checkout"),g=t(".plus"),h=t(".minus"),p=t(".item-amount-display"),L=t(".add-to-cart"),y=t(".cart-badge"),S=n(r.map((function(t){return t.src.replace("-thumbnail","")}))),b=e(".next"),E=e(".prev"),O=t(".hamburger-wrapper"),x=t(".menu"),k=t(".main-nav");O.addEventListener("click",(function(){k.classList.toggle("active"),x.classList.toggle("active"),O.classList.toggle("active")})),a.addEventListener("click",(function(t){s.contains(t.target)||a.classList.toggle("active")})),document.addEventListener("click",(function(t){a.contains(t.target)||s.contains(t.target)||a.classList.remove("active")}));var A=0,C=JSON.parse(localStorage.getItem("totalAmount"))||0,w=125*I,I=JSON.parse(localStorage.getItem("cartTotalAmount"))||0,J=JSON.parse(localStorage.getItem("cartTotalPrice"))||0;0===I&&(l.classList.add("hidden"),m.classList.add("hidden"),d.classList.remove("hidden")),p.textContent=C,y.textContent=I,u.textContent=I,f.textContent="$".concat(J),o.forEach((function(t){t.src=S[A]})),o.forEach((function(t){t.addEventListener("click",(function(){c.classList.add("active")}))})),i.addEventListener("click",(function(){c.classList.remove("active")})),r.forEach((function(t,e){t.addEventListener("click",(function(){r.forEach((function(t){return t.classList.remove("active")})),t.classList.add("active");var n=t.src.replace("-thumbnail","");console.log(n),o.forEach((function(t){t.src=n})),A=e}))})),b.forEach((function(t){t.addEventListener("click",(function(){A<S.length-1&&A++,o.forEach((function(t){t.src=S[A]})),r.forEach((function(t){o.forEach((function(e){e.src===t.src.replace("-thumbnail","")?t.classList.add("active"):t.classList.remove("active")}))}))}))})),E.forEach((function(t){t.addEventListener("click",(function(){A>0&&A--,o.forEach((function(t){t.src=S[A]})),r.forEach((function(t){o.forEach((function(e){e.src===t.src.replace("-thumbnail","")?t.classList.add("active"):t.classList.remove("active")}))}))}))})),g.addEventListener("click",(function(){C++,w=125*C,p.textContent=C,localStorage.setItem("totalAmount",JSON.stringify(C))})),h.addEventListener("click",(function(){C>0&&(C--,w=125*C,p.textContent=C,localStorage.setItem("totalAmount",JSON.stringify(C)))})),v.addEventListener("click",(function(){I=0,J=0,localStorage.setItem("cartTotalAmount",JSON.stringify(I)),localStorage.setItem("cartTotalPrice",JSON.stringify(J)),y.textContent=I,l.classList.add("hidden"),m.classList.add("hidden"),d.classList.remove("hidden"),localStorage.setItem("totalAmount",JSON.stringify(C))})),L.addEventListener("click",(function(){I+=C,J+=w,C=0,w=125*I,p.textContent=C,localStorage.setItem("cartTotalAmount",JSON.stringify(I)),localStorage.setItem("cartTotalPrice",JSON.stringify(J)),y.textContent=I,u.textContent=I,f.textContent="$".concat(J),localStorage.setItem("totalAmount",JSON.stringify(C)),I>0&&(l.classList.remove("hidden"),m.classList.remove("hidden"),d.classList.add("hidden")),0===I&&(l.classList.add("hidden"),m.classList.add("hidden"),d.classList.remove("hidden"))}))}))}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var c=n[t]={exports:{}};return e[t](c,c.exports,r),c.exports}r.m=e,t=[],r.O=function(e,n,o,c){if(!n){var i=1/0;for(d=0;d<t.length;d++){n=t[d][0],o=t[d][1],c=t[d][2];for(var a=!0,s=0;s<n.length;s++)(!1&c||i>=c)&&Object.keys(r.O).every((function(t){return r.O[t](n[s])}))?n.splice(s--,1):(a=!1,c<i&&(i=c));if(a){t.splice(d--,1);var l=o();void 0!==l&&(e=l)}}return e}c=c||0;for(var d=t.length;d>0&&t[d-1][2]>c;d--)t[d]=t[d-1];t[d]=[n,o,c]},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={793:0,79:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,c,i=n[0],a=n[1],s=n[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(s)var d=s(r)}for(e&&e(n);l<i.length;l++)c=i[l],r.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return r.O(d)},n=self.webpackChunkbittechdeveloper_github_io=self.webpackChunkbittechdeveloper_github_io||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var o=r.O(void 0,[79],(function(){return r(839)}));o=r.O(o)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPSCxFQUFvQixJQUFNLElBQy9HMkMsRUFBc0IzQyxFQUFvQlEsRUFBRW1DLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iaXR0ZWNoZGV2ZWxvcGVyLWdpdGh1Yi1pby93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL2JpdHRlY2hkZXZlbG9wZXItZ2l0aHViLWlvLy4vc3JjL3NjcmlwdHMvbGlianMvZnVuY3Rpb25zLmpzIiwid2VicGFjazovL2JpdHRlY2hkZXZlbG9wZXItZ2l0aHViLWlvLy4vc3JjL3NjcmlwdHMvZmVtL2ZlbS1pbnQtZWNvbW1lcmNlLmpzIiwid2VicGFjazovL2JpdHRlY2hkZXZlbG9wZXItZ2l0aHViLWlvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JpdHRlY2hkZXZlbG9wZXItZ2l0aHViLWlvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYml0dGVjaGRldmVsb3Blci1naXRodWItaW8vd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vYml0dGVjaGRldmVsb3Blci1naXRodWItaW8vd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gZnVuY3Rpb24ocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBjaHVua0lkcyA9IGRlZmVycmVkW2ldWzBdO1xuXHRcdHZhciBmbiA9IGRlZmVycmVkW2ldWzFdO1xuXHRcdHZhciBwcmlvcml0eSA9IGRlZmVycmVkW2ldWzJdO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeShmdW5jdGlvbihrZXkpIHsgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKTsgfSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJleHBvcnQgZnVuY3Rpb24gc2VsZWN0KGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7XHJcbiAgICByZXR1cm4gc2VsZWN0ZWRFbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0QWxsKGVsZW1lbnRzKSB7XHJcbiAgICBjb25zdCBzZWxlY3RlZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cyk7XHJcbiAgICByZXR1cm4gc2VsZWN0ZWRFbGVtZW50cztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShlbGVtZW50LCB0ZXh0ID0gbnVsbCkge1xyXG4gICAgY29uc3QgY3JlYXRlZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnQpO1xyXG4gICAgaWYgKHRleHQpIHtcclxuICAgICAgICBjcmVhdGVkRWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlZEVsZW1lbnQ7XHJcbn1cclxuIiwiaW1wb3J0IFwiLi4vLi4vc3R5bGVzL21haW4uY3NzXCI7XHJcbmltcG9ydCAqIGFzIGYgZnJvbSBcIi4uL2xpYmpzL2Z1bmN0aW9uc1wiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgYm9keSA9IGYuc2VsZWN0KFwiYm9keVwiKTtcclxuXHJcbiAgICBjb25zdCB0aHVtYm5haWxzID0gWy4uLmYuc2VsZWN0QWxsKFwiLnRodW1ibmFpbC1pbWdcIildO1xyXG4gICAgY29uc3QgbGFyZ2VJbWFnZXMgPSBmLnNlbGVjdEFsbChcIi5sYXJnZS1pbWdcIik7XHJcblxyXG4gICAgY29uc3QgbGlnaHRib3hPdmVybGF5ID0gZi5zZWxlY3QoXCIubGlnaHRib3gtb3ZlcmxheVwiKTtcclxuICAgIGNvbnN0IGxpZ2h0Ym94TmV4dEljb24gPSBsaWdodGJveE92ZXJsYXkucXVlcnlTZWxlY3RvcihcIi5uZXh0XCIpO1xyXG4gICAgY29uc3QgbGlnaHRib3hwcmV2SWNvbiA9IGxpZ2h0Ym94T3ZlcmxheS5xdWVyeVNlbGVjdG9yKFwiLnByZXZcIik7XHJcbiAgICBjb25zdCBsaWdodGJveENsb3NlSWNvbiA9IGYuc2VsZWN0KFwiLmxpZ2h0Ym94LWNsb3NlLWltZ1wiKTtcclxuXHJcbiAgICBjb25zdCBjYXJ0V3JhcHBlciA9IGYuc2VsZWN0KFwiLmNhcnQtd3JhcHBlclwiKTtcclxuICAgIGNvbnN0IGNhcnREcm9wZG93biA9IGYuc2VsZWN0KFwiLmNhcnQtZHJvcGRvd25cIik7XHJcbiAgICBjb25zdCBkcm9wZG93bkNvbnRlbnQgPSBmLnNlbGVjdChcIi5kcm9wZG93bi1jb250ZW50XCIpO1xyXG4gICAgY29uc3QgZHJvcGRvd25Db250ZW50RW1wdHkgPSBmLnNlbGVjdChcIi5kcm9wZG93bi1jb250ZW50LWVtcHR5XCIpO1xyXG4gICAgY29uc3QgaXRlbURyb3Bkb3duRGlzcGxheSA9IGYuc2VsZWN0KFwiLml0ZW0tZHJvcGRvd24tZGlzcGxheVwiKTtcclxuICAgIGNvbnN0IHRvdGFsUHJpY2VEcm9wZG93bkRpc3BsYXkgPSBmLnNlbGVjdChcIi50b3RhbC1wcmljZS1kcm9wZG93bi1kaXNwbGF5XCIpO1xyXG4gICAgY29uc3QgZHJvcGRvd25EZWxldGUgPSBmLnNlbGVjdChcIi5kcm9wZG93bi1kZWxldGVcIik7XHJcbiAgICBjb25zdCBjaGVja291dCA9IGYuc2VsZWN0KFwiLmNoZWNrb3V0XCIpO1xyXG5cclxuICAgIGNvbnN0IHBsdXNCdG4gPSBmLnNlbGVjdChcIi5wbHVzXCIpO1xyXG4gICAgY29uc3QgbWludXNCdG4gPSBmLnNlbGVjdChcIi5taW51c1wiKTtcclxuICAgIGNvbnN0IGl0ZW1BbW91bnREaXNwbGF5ID0gZi5zZWxlY3QoXCIuaXRlbS1hbW91bnQtZGlzcGxheVwiKTtcclxuICAgIGNvbnN0IGFkZFRvQ2FydCA9IGYuc2VsZWN0KFwiLmFkZC10by1jYXJ0XCIpO1xyXG4gICAgY29uc3QgY2FydEJhZGdlID0gZi5zZWxlY3QoXCIuY2FydC1iYWRnZVwiKTtcclxuXHJcbiAgICBjb25zdCBsYXJnZUltYWdlU3JjcyA9IFsuLi50aHVtYm5haWxzLm1hcCgodCkgPT4gdC5zcmMucmVwbGFjZShcIi10aHVtYm5haWxcIiwgXCJcIikpXTtcclxuXHJcbiAgICBjb25zdCBuZXh0cyA9IGYuc2VsZWN0QWxsKFwiLm5leHRcIik7XHJcbiAgICBjb25zdCBwcmV2cyA9IGYuc2VsZWN0QWxsKFwiLnByZXZcIik7XHJcblxyXG4gICAgLy8gaGFtYnVyZ2VyIHZhcmlhYmxlc1xyXG4gICAgY29uc3QgaGFtYnVyZ2VyV3JhcHBlciA9IGYuc2VsZWN0KFwiLmhhbWJ1cmdlci13cmFwcGVyXCIpO1xyXG4gICAgY29uc3QgbWVudSA9IGYuc2VsZWN0KFwiLm1lbnVcIik7XHJcbiAgICBjb25zdCBtYWluTmF2ID0gZi5zZWxlY3QoXCIubWFpbi1uYXZcIik7XHJcblxyXG4gICAgLy8gaGFtYnVyZ2VyIGZ1bmN0aW9uXHJcbiAgICBoYW1idXJnZXJXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbWFpbk5hdi5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBoYW1idXJnZXJXcmFwcGVyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBkcm9wZG93biBmdW5jaW9uXHJcbiAgICBjYXJ0V3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICBpZiAoY2FydERyb3Bkb3duLmNvbnRhaW5zKGUudGFyZ2V0KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhcnRXcmFwcGVyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoIWNhcnRXcmFwcGVyLmNvbnRhaW5zKGUudGFyZ2V0KSAmJiAhY2FydERyb3Bkb3duLmNvbnRhaW5zKGUudGFyZ2V0KSkge1xyXG4gICAgICAgICAgICBjYXJ0V3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGluaXRpYWwgaW5kZXhmb3IgbGFyZ2UgaW1hZ2VcclxuICAgIGxldCBsYXJnZUltYWdlU3Jjc0luZGV4ID0gMDtcclxuICAgIGxldCB0b3RhbEFtb3VudCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b3RhbEFtb3VudFwiKSkgfHwgMDtcclxuICAgIGxldCB0b3RhbFByaWNlID0gY2FydFRvdGFsQW1vdW50ICogMTI1O1xyXG5cclxuICAgIGxldCBjYXJ0VG90YWxBbW91bnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FydFRvdGFsQW1vdW50XCIpKSB8fCAwO1xyXG4gICAgbGV0IGNhcnRUb3RhbFByaWNlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhcnRUb3RhbFByaWNlXCIpKSB8fCAwO1xyXG5cclxuICAgIGlmIChjYXJ0VG90YWxBbW91bnQgPT09IDApIHtcclxuICAgICAgICBkcm9wZG93bkNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgICAgICBjaGVja291dC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgIGRyb3Bkb3duQ29udGVudEVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgaXRlbUFtb3VudERpc3BsYXkudGV4dENvbnRlbnQgPSB0b3RhbEFtb3VudDtcclxuICAgIGNhcnRCYWRnZS50ZXh0Q29udGVudCA9IGNhcnRUb3RhbEFtb3VudDtcclxuICAgIGl0ZW1Ecm9wZG93bkRpc3BsYXkudGV4dENvbnRlbnQgPSBjYXJ0VG90YWxBbW91bnQ7XHJcbiAgICB0b3RhbFByaWNlRHJvcGRvd25EaXNwbGF5LnRleHRDb250ZW50ID0gYCQke2NhcnRUb3RhbFByaWNlfWA7XHJcblxyXG4gICAgLy8gaW5pdGlhbCBkaXNwbGF5IGZvciBsYXJnZSBpbWFnZXNcclxuXHJcbiAgICBsYXJnZUltYWdlcy5mb3JFYWNoKChsYXJnZUltYWdlKSA9PiB7XHJcbiAgICAgICAgbGFyZ2VJbWFnZS5zcmMgPSBsYXJnZUltYWdlU3Jjc1tsYXJnZUltYWdlU3Jjc0luZGV4XTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGRpc3BsYXkgbGlnaGJveFxyXG4gICAgbGFyZ2VJbWFnZXMuZm9yRWFjaCgobGFyZ2VJbWFnZSkgPT4ge1xyXG4gICAgICAgIGxhcmdlSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbGlnaHRib3hPdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBjbG9zZSBsaWdodGJveFxyXG4gICAgbGlnaHRib3hDbG9zZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBsaWdodGJveE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGNsaWNrIGV2ZW50IGZvciB0aHVtYm5haWwgdG8gY29udHJvbGwgbGFyZ2UgaW1hZ2VcclxuICAgIHRodW1ibmFpbHMuZm9yRWFjaCgodGh1bWJuYWlsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIHRodW1ibmFpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aHVtYm5haWxzLmZvckVhY2goKHQpID0+IHQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSk7XHJcbiAgICAgICAgICAgIHRodW1ibmFpbC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbGFyZ2VJbWFnZVNyYyA9IHRodW1ibmFpbC5zcmMucmVwbGFjZShcIi10aHVtYm5haWxcIiwgXCJcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxhcmdlSW1hZ2VTcmMpO1xyXG5cclxuICAgICAgICAgICAgbGFyZ2VJbWFnZXMuZm9yRWFjaCgobGFyZ2VJbWFnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGFyZ2VJbWFnZS5zcmMgPSBsYXJnZUltYWdlU3JjO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxhcmdlSW1hZ2VTcmNzSW5kZXggPSBpbmRleDtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGxhcmdlIGltYWdlIG5hdmlnYXRpb24gZm9yIG5leHRcclxuICAgIG5leHRzLmZvckVhY2goKG5leHQpID0+IHtcclxuICAgICAgICBuZXh0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsYXJnZUltYWdlU3Jjc0luZGV4IDwgbGFyZ2VJbWFnZVNyY3MubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgbGFyZ2VJbWFnZVNyY3NJbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxhcmdlSW1hZ2VzLmZvckVhY2goKGxhcmdlSW1hZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGxhcmdlSW1hZ2Uuc3JjID0gbGFyZ2VJbWFnZVNyY3NbbGFyZ2VJbWFnZVNyY3NJbmRleF07XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGh1bWJuYWlscy5mb3JFYWNoKCh0aHVtYm5haWwpID0+IHtcclxuICAgICAgICAgICAgICAgIGxhcmdlSW1hZ2VzLmZvckVhY2goKGxhcmdlSW1hZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGFyZ2VJbWFnZS5zcmMgPT09IHRodW1ibmFpbC5zcmMucmVwbGFjZShcIi10aHVtYm5haWxcIiwgXCJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICAvLyBsYXJnZSBpbWFnZSBuYXZpZ2F0aW9uIGZvciBwcmV2aW91c1xyXG4gICAgcHJldnMuZm9yRWFjaCgocHJldikgPT4ge1xyXG4gICAgICAgIHByZXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGxhcmdlSW1hZ2VTcmNzSW5kZXggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsYXJnZUltYWdlU3Jjc0luZGV4LS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFyZ2VJbWFnZXMuZm9yRWFjaCgobGFyZ2VJbWFnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGFyZ2VJbWFnZS5zcmMgPSBsYXJnZUltYWdlU3Jjc1tsYXJnZUltYWdlU3Jjc0luZGV4XTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aHVtYm5haWxzLmZvckVhY2goKHRodW1ibmFpbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGFyZ2VJbWFnZXMuZm9yRWFjaCgobGFyZ2VJbWFnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXJnZUltYWdlLnNyYyA9PT0gdGh1bWJuYWlsLnNyYy5yZXBsYWNlKFwiLXRodW1ibmFpbFwiLCBcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWwuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJdGVtIGFtb3VudCBpbmNyZWFtZW50XHJcbiAgICBwbHVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdG90YWxBbW91bnQrKztcclxuICAgICAgICB0b3RhbFByaWNlID0gdG90YWxBbW91bnQgKiAxMjU7XHJcbiAgICAgICAgaXRlbUFtb3VudERpc3BsYXkudGV4dENvbnRlbnQgPSB0b3RhbEFtb3VudDtcclxuXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b3RhbEFtb3VudFwiLCBKU09OLnN0cmluZ2lmeSh0b3RhbEFtb3VudCkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBJdGVtIGFtb3VudCBkZWNyZWFtZW50XHJcbiAgICBtaW51c0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGlmICh0b3RhbEFtb3VudCA+IDApIHtcclxuICAgICAgICAgICAgdG90YWxBbW91bnQtLTtcclxuICAgICAgICAgICAgdG90YWxQcmljZSA9IHRvdGFsQW1vdW50ICogMTI1O1xyXG4gICAgICAgICAgICBpdGVtQW1vdW50RGlzcGxheS50ZXh0Q29udGVudCA9IHRvdGFsQW1vdW50O1xyXG5cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b3RhbEFtb3VudFwiLCBKU09OLnN0cmluZ2lmeSh0b3RhbEFtb3VudCkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy8gZHJvcGRvd24gZGVsZXRlXHJcbiAgICBkcm9wZG93bkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNhcnRUb3RhbEFtb3VudCA9IDA7XHJcbiAgICAgICAgY2FydFRvdGFsUHJpY2UgPSAwO1xyXG5cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhcnRUb3RhbEFtb3VudFwiLCBKU09OLnN0cmluZ2lmeShjYXJ0VG90YWxBbW91bnQpKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhcnRUb3RhbFByaWNlXCIsIEpTT04uc3RyaW5naWZ5KGNhcnRUb3RhbFByaWNlKSk7XHJcbiAgICAgICAgY2FydEJhZGdlLnRleHRDb250ZW50ID0gY2FydFRvdGFsQW1vdW50O1xyXG4gICAgICAgIGRyb3Bkb3duQ29udGVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgIGNoZWNrb3V0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgZHJvcGRvd25Db250ZW50RW1wdHkuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b3RhbEFtb3VudFwiLCBKU09OLnN0cmluZ2lmeSh0b3RhbEFtb3VudCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkVG9DYXJ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgY2FydFRvdGFsQW1vdW50ICs9IHRvdGFsQW1vdW50O1xyXG4gICAgICAgIGNhcnRUb3RhbFByaWNlICs9IHRvdGFsUHJpY2U7XHJcblxyXG4gICAgICAgIHRvdGFsQW1vdW50ID0gMDtcclxuICAgICAgICB0b3RhbFByaWNlID0gY2FydFRvdGFsQW1vdW50ICogMTI1O1xyXG4gICAgICAgIGl0ZW1BbW91bnREaXNwbGF5LnRleHRDb250ZW50ID0gdG90YWxBbW91bnQ7XHJcblxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2FydFRvdGFsQW1vdW50XCIsIEpTT04uc3RyaW5naWZ5KGNhcnRUb3RhbEFtb3VudCkpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2FydFRvdGFsUHJpY2VcIiwgSlNPTi5zdHJpbmdpZnkoY2FydFRvdGFsUHJpY2UpKTtcclxuXHJcbiAgICAgICAgY2FydEJhZGdlLnRleHRDb250ZW50ID0gY2FydFRvdGFsQW1vdW50O1xyXG4gICAgICAgIGl0ZW1Ecm9wZG93bkRpc3BsYXkudGV4dENvbnRlbnQgPSBjYXJ0VG90YWxBbW91bnQ7XHJcbiAgICAgICAgdG90YWxQcmljZURyb3Bkb3duRGlzcGxheS50ZXh0Q29udGVudCA9IGAkJHtjYXJ0VG90YWxQcmljZX1gO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG90YWxBbW91bnRcIiwgSlNPTi5zdHJpbmdpZnkodG90YWxBbW91bnQpKTtcclxuXHJcbiAgICAgICAgaWYgKGNhcnRUb3RhbEFtb3VudCA+IDApIHtcclxuICAgICAgICAgICAgZHJvcGRvd25Db250ZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgIGNoZWNrb3V0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duQ29udGVudEVtcHR5LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2FydFRvdGFsQW1vdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duQ29udGVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICBjaGVja291dC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICBkcm9wZG93bkNvbnRlbnRFbXB0eS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDc5MzogMCxcblx0Nzk6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gZnVuY3Rpb24oY2h1bmtJZCkgeyByZXR1cm4gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwOyB9O1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IGZ1bmN0aW9uKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSB7XG5cdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG5cdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG5cdHZhciBydW50aW1lID0gZGF0YVsyXTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKGZ1bmN0aW9uKGlkKSB7IHJldHVybiBpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwOyB9KSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtiaXR0ZWNoZGV2ZWxvcGVyX2dpdGh1Yl9pb1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtiaXR0ZWNoZGV2ZWxvcGVyX2dpdGh1Yl9pb1wiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzc5XSwgZnVuY3Rpb24oKSB7IHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzOSk7IH0pXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sIm5hbWVzIjpbImRlZmVycmVkIiwic2VsZWN0IiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNlbGVjdEFsbCIsImVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmIiwidGh1bWJuYWlscyIsIl90b0NvbnN1bWFibGVBcnJheSIsImxhcmdlSW1hZ2VzIiwibGlnaHRib3hPdmVybGF5IiwibGlnaHRib3hDbG9zZUljb24iLCJjYXJ0V3JhcHBlciIsImNhcnREcm9wZG93biIsImRyb3Bkb3duQ29udGVudCIsImRyb3Bkb3duQ29udGVudEVtcHR5IiwiaXRlbURyb3Bkb3duRGlzcGxheSIsInRvdGFsUHJpY2VEcm9wZG93bkRpc3BsYXkiLCJkcm9wZG93bkRlbGV0ZSIsImNoZWNrb3V0IiwicGx1c0J0biIsIm1pbnVzQnRuIiwiaXRlbUFtb3VudERpc3BsYXkiLCJhZGRUb0NhcnQiLCJjYXJ0QmFkZ2UiLCJsYXJnZUltYWdlU3JjcyIsIm1hcCIsInQiLCJzcmMiLCJyZXBsYWNlIiwibmV4dHMiLCJwcmV2cyIsImhhbWJ1cmdlcldyYXBwZXIiLCJtZW51IiwibWFpbk5hdiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImUiLCJjb250YWlucyIsInRhcmdldCIsInJlbW92ZSIsImxhcmdlSW1hZ2VTcmNzSW5kZXgiLCJ0b3RhbEFtb3VudCIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ0b3RhbFByaWNlIiwiY2FydFRvdGFsQW1vdW50IiwiY2FydFRvdGFsUHJpY2UiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImNvbmNhdCIsImZvckVhY2giLCJsYXJnZUltYWdlIiwidGh1bWJuYWlsIiwiaW5kZXgiLCJsYXJnZUltYWdlU3JjIiwiY29uc29sZSIsImxvZyIsIm5leHQiLCJsZW5ndGgiLCJwcmV2Iiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIk8iLCJyZXN1bHQiLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImkiLCJmdWxmaWxsZWQiLCJqIiwiT2JqZWN0Iiwia2V5cyIsImV2ZXJ5Iiwia2V5Iiwic3BsaWNlIiwiciIsIm8iLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJkYXRhIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImlkIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwic2VsZiIsImJpbmQiLCJwdXNoIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJzb3VyY2VSb290IjoiIn0=